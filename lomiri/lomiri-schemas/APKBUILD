# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Luca Weiss <luca@z3ntu.xyz>
pkgname=lomiri-schemas
pkgver=0_git20221230
pkgrel=0
_commit="7a1fd2e5541cd537f27f1f23f0d635aa52ead824"
pkgdesc='GSettings / AccountsService schema files for Lomiri'
arch="noarch"
url="https://gitlab.com/ubports/development/core/lomiri-schemas"
license="LGPL-2.1"
makedepends="cmake cmake-extras glib-dev intltool"
source="https://gitlab.com/ubports/development/core/lomiri-schemas/-/archive/$_commit/lomiri-schemas-$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"
options="!check" # No tests

build() {
	cmake -B build \
		-DCMAKE_BUILD_TYPE=None \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib \
		-DCMAKE_INSTALL_LOCALSTATEDIR=/var
	make -C build
}

package() {
	make -C build DESTDIR="$pkgdir" install
}

sha512sums="
485aaeba43c567c7b9e158adc610a577b7d7f35170d94fc009b60d0bed6be58be63943831f76573acf9d44e00ef51cd6c93bd2cece56fc4a9d7f9f9c7438393b  lomiri-schemas-7a1fd2e5541cd537f27f1f23f0d635aa52ead824.tar.gz
"
